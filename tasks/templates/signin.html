<!-- 
Esta plantilla extiende un diseño base de HTML y define un bloque de contenido 
para la funcionalidad de inicio de sesión de usuario.
-->

{% extends 'base.html' %} <!-- Hereda de la plantilla base -->

{% block content %} <!-- Inicio del bloque de contenido -->
<main class="container"> <!-- Contenedor principal para el contenido -->
    <div class="row "> <!-- Fila de Bootstrap para el diseño -->
        <div class="col-md-4 offset-md-4 "> <!-- Columna centrada en pantallas medianas -->
            <form action="/signin/" method="POST" class="card card-body mt-5  shadow mb-4"> <!-- Formulario para el inicio de sesión del usuario -->
                <div class="d-flex justify-content-between">
                    <h1 class="text-center">Login</h1>
                    <img src="/media/logo/image-removebg-preview.png" alt="Imagen de registro" class="img-fluid" style="max-width: 100px;">
                </div>
                {% if error %} <!-- Verificar si hay un error -->
                    <div class="alert alert-danger mt-4" role="alert"> <!-- Alerta para mostrar mensajes de error -->
                        <strong>Error:</strong> {{ error }} <!-- Mostrar el mensaje de error -->
                    </div>
                {% endif %} <!-- Fin de la verificación de errores -->

                {% csrf_token %} <!-- Token CSRF para seguridad contra ataques de falsificación de solicitudes entre sitios -->
                
                <div class="mb-3 mt-3"> <!-- Margen inferior para el espaciado -->
                    <label for="username">Nombre de usuario:</label> <!-- Etiqueta para la entrada del nombre de usuario -->
                    <input type="text" name="username" id="username" class="form-control {% if error %}is-invalid{% endif %}" 
                        placeholder="Escribe tu nombre de usuario" value="{{ request.POST.username }}"> <!-- Marcador de posición y valor para la entrada -->
                    {% if error %} <!-- Verificar si hay un error relacionado con el nombre de usuario -->
                        <div class="invalid-feedback"> <!-- Retroalimentación para entrada no válida -->
                            El nombre de usuario es incorrecto o no está registrado. <!-- Mensaje de error para el nombre de usuario -->
                        </div>
                    {% endif %} <!-- Fin de la verificación de errores del nombre de usuario -->
                </div>

                <div class="mb-3"> <!-- Margen inferior para el espaciado -->
                    <label for="password">Contraseña:</label> <!-- Etiqueta para la entrada de la contraseña -->
                    <input type="password" name="password" id="password" class="form-control {% if error %}is-invalid{% endif %}" 
                        placeholder="Escribe tu contraseña"> <!-- Marcador de posición para la entrada -->
                    {% if error %} <!-- Verificar si hay un error relacionado con la contraseña -->
                        <div class="invalid-feedback"> <!-- Retroalimentación para entrada no válida -->
                            La contraseña es incorrecta. <!-- Mensaje de error para la contraseña -->
                        </div>
                    {% endif %} <!-- Fin de la verificación de errores de la contraseña -->
                </div>

                <button class="btn text-white" style="background-color: #212529;"> <!-- Botón para enviar el formulario -->
                    Login <!-- Etiqueta del botón -->
                </button>
            </form> <!-- Fin del formulario -->
        </div> <!-- Fin de la columna -->
    </div> <!-- Fin de la fila -->
</main> <!-- Fin del contenedor principal -->
<style>
    body {
        background-color: #e0e0e0 !important;  /* Fondo gris para la página de signup */
    }
</style>
{% endblock %} <!-- Fin del bloque de contenido -->

