<!DOCTYPE html> <!-- Define el tipo de documento como HTML5 -->
<html lang="en"> <!-- Establece el idioma del documento como inglés -->
<head>
    <meta charset="UTF-8"> <!-- Establece la codificación de caracteres como UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Configura la vista para dispositivos móviles -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"> <!-- Enlaza el archivo CSS de Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"> <!-- Enlaza el archivo CSS de Font Awesome para iconos -->

    <title>IDP</title> <!-- Establece el título de la página -->
</head>
<body> <!-- Este es el fondo blanco predeterminado -->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark"> <!-- Crea una barra de navegación oscura y expandible -->
        <div class="container">
            <a class="navbar-brand" href="http://127.0.0.1:8000/"><img  src="/media/logo/image-removebg-previewB2.png" alt="" style="max-width: 80px;"> </a> <!-- Nombre de la marca en la barra de navegación -->
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <!-- Botón para colapsar la navegación en pantallas pequeñas -->
                <span class="navbar-toggler-icon"></span> <!-- Icono del botón de navegación -->
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav"> <!-- Contenedor colapsable para los enlaces de navegación -->
                <ul class="navbar-nav ms-auto"> <!-- Lista de navegación alineada a la derecha -->
                    <li class="nav-item">
                        <a href="/" class="nav-link">Home</a> <!-- Enlace a la página principal -->
                    </li>
                    {% if user.is_authenticated %} <!-- Verifica si el usuario está autenticado -->
                    <li class="nav-item">
                        <a href="/tasks" class="nav-link">Tasks Pending</a> <!-- Enlace a tareas pendientes -->
                    </li>
                    <li class="nav-item">
                        <a href="/tasks_completed" class="nav-link">Tasks Completed</a> <!-- Enlace a tareas completadas -->
                    </li>
                    <li class="nav-item">
                        <a href="/tasks/create/" class="nav-link">Tasks create</a> <!-- Enlace para crear tareas -->
                    </li>
                    {% if user.is_staff %} <!-- Verifica si el usuario es personal administrativo -->
                    <li class="nav-item">
                        <a href="/admin" class="nav-link">Admin</a> <!-- Enlace a la sección de administración -->
                    </li>
                    {% endif %}
                    <li class="nav-item">
                        <a href="/logout" class="nav-link">Logout</a> <!-- Enlace para cerrar sesión -->
                    </li>
                    <li class="nav-item">
                        <a href="/profile" class="nav-link ms-5"> <!-- Enlace al perfil del usuario -->
                            {% if user.profile.profile_picture %} <!-- Verifica si el usuario tiene una foto de perfil -->
                            <img src="{{ user.profile.profile_picture.url }}" alt="Profile Picture" class="rounded-circle" width="30" height="30"> <!-- Muestra la foto de perfil -->
                            {% else %}
                            <i class="fas fa-user-circle" style="font-size: 30px;"></i> <!-- Muestra un icono por defecto si no hay foto -->
                            {% endif %}
                        </a>
                    </li>
                    {% else %} <!-- Si el usuario no está autenticado -->
                    <li class="nav-item">
                        <a href="/signup" class="nav-link">Signup</a> <!-- Enlace para registrarse -->
                    </li>
                    <li class="nav-item">
                        <a href="/signin" class="nav-link">Signin</a> <!-- Enlace para iniciar sesión -->
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>
    
    {% block content %} <!-- Bloque para insertar contenido dinámico -->
    {% endblock %}

    <!-- Agregar el script de Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script> <!-- Enlaza el archivo JavaScript de Bootstrap -->
</body>
</html>
